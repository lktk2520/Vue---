<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="app">
      <section>
        <div class="container">
          <div class="title">
            <div class="input">
              <select name="" id="" v-model="input.type">
                <option value="">全部</option>
                <option value="單鈴">單鈴</option>
                <option value="雙鈴">雙鈴</option>
                <option value="直立鈴">直立鈴</option>
              </select>
              <input type="text" v-model="input.title" />
            </div>
            <div class="menu">
              <div class="menuItem" v-for="(item,index) in titleMenu">
                <span class="number"> {{index+1}} </span>
                <span class="type"> {{item.type}} </span>
                <a href="javascript:;" class="title"> {{item.title}} </a>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.2.1/vue.js"
      integrity="sha512-i1D6OkXB+ZGx8L0ED6V5oKqTBKtCaZxs4heiheYUu9+IEufVKuHos3Gs//uK7NAMcgBxfmv/OwfXKFCQZBjDqg=="
      crossorigin="anonymous"
    ></script>
    <script>
      let data = {
        input: {
          type: "全部",
          title: "",
        },
        menu: [
          { type: "單鈴", title: "大鵬展翅", link: "javascript:;" },
          { type: "單鈴", title: "旋風金勾", link: "javascript:;" },
          { type: "單鈴", title: "鳳凰展翅", link: "javascript:;" },
          { type: "單鈴", title: "繞腳", link: "javascript:;" },
          { type: "雙鈴", title: "雙鈴掛手", link: "javascript:;" },
          { type: "雙鈴", title: "電風扇", link: "javascript:;" },
          { type: "雙鈴", title: "迴龍出海", link: "javascript:;" },
          { type: "雙鈴", title: "台南大屠殺", link: "javascript:;" },
          { type: "直立鈴", title: "上甩下甩", link: "javascript:;" },
          { type: "直立鈴", title: "直立鈴放棍", link: "javascript:;" },
          { type: "直立鈴", title: "直升機", link: "javascript:;" },
          { type: "直立鈴", title: "360放棍", link: "javascript:;" },
        ],
      };
      let vm = new Vue({
        el: "#app",
        data: data,
        computed: {
          //用具有function的變數對menu這一包東西動手腳
          typeMenu() {
            if (this.input.type == "全部") {
              // 用以偵測Vue裡面input.type的'資料',並隨之產生不同的'變數'
              return this.menu;
            } else {
              return this.menu.filter((item) => {
                //   如果不是全部的話就要做篩選
                return item.type == this.input.type;
              });
            }
          },
          titleMenu() {
            if (this.input.title) {
              return this.typeMenu.filter((item) => {
                let content = item.title.toLowerCase();
                let keyword = this.input.title.toLowerCase();
                return content.indexOf(keyword) !== -1;
              });
              //找的到字的保留
            } else {
              return this.typeMenu;
              //***如果都找不到字就用typeMenu運算
            }
          },
        },
      });
    </script>
  </body>
</html>
<!-- var origin = [1, 2, 'a', 3, 1, 'b', 'a'];
var result = origin.filter(function(element, index, arr){
    return arr.indexOf(element) === index;
});
取出相同
var repeat = origin.filter(function(element, index, arr){
    return arr.indexOf(element) !== index;
});
取出不相同
console.log(result); // [1, 2, "a", 3, "b"]
console.log(repeat); // [1, "a"] -->

<!-- .indexOf回傳索引,沒找到索引就回傳-1 -->
